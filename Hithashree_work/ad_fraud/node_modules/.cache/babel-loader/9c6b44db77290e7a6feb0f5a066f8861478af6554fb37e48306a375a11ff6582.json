{"ast":null,"code":"let totalBehaviour = [];\nlet mousemoveTimes = [];\nlet mousemoveTotalBehaviour = [];\nconst sessionId = crypto.randomUUID();\nlet startTime;\nfunction startTracking() {\n  console.log(\"Tracking started for session:\", sessionId);\n  startTime = Date.now();\n  document.addEventListener(\"mousemove\", handleMousemove);\n  document.addEventListener(\"click\", handleClick);\n  document.addEventListener(\"contextmenu\", handleRightClick);\n  document.addEventListener(\"auxclick\", handleMiddleClick);\n}\nfunction endTracking() {\n  console.log(\"Ending tracking for session:\", sessionId);\n  const payload = JSON.stringify({\n    session_id: sessionId,\n    total_behaviour: totalBehaviour,\n    mousemove_times: mousemoveTimes,\n    mousemove_total_behaviour: mousemoveTotalBehaviour\n  });\n  const blob = new Blob([payload], {\n    type: \"application/json\"\n  });\n  navigator.sendBeacon(\"http://localhost:5000/log-visit\", blob);\n\n  // Optional debug log\n  console.log(\"Sent tracking data:\", payload);\n}\nfunction handleMousemove(e) {\n  const now = Date.now();\n  totalBehaviour.push(`m(${e.clientX},${e.clientY})`);\n  mousemoveTotalBehaviour.push({\n    x: e.clientX,\n    y: e.clientY\n  });\n  mousemoveTimes.push(now - startTime);\n}\nfunction handleClick() {\n  mousemoveTimes.push(Date.now() - startTime);\n  totalBehaviour.push(\"c(l)\");\n}\nfunction handleRightClick() {\n  mousemoveTimes.push(Date.now() - startTime);\n  totalBehaviour.push(\"c(r)\");\n}\nfunction handleMiddleClick() {\n  mousemoveTimes.push(Date.now() - startTime);\n  totalBehaviour.push(\"c(m)\");\n}\nexport { startTracking, endTracking };","map":{"version":3,"names":["totalBehaviour","mousemoveTimes","mousemoveTotalBehaviour","sessionId","crypto","randomUUID","startTime","startTracking","console","log","Date","now","document","addEventListener","handleMousemove","handleClick","handleRightClick","handleMiddleClick","endTracking","payload","JSON","stringify","session_id","total_behaviour","mousemove_times","mousemove_total_behaviour","blob","Blob","type","navigator","sendBeacon","e","push","clientX","clientY","x","y"],"sources":["C:/Users/hitha/Desktop/adfraud_kpmg/ad_fraud/src/clickceaseTracker.js"],"sourcesContent":["let totalBehaviour = [];\r\nlet mousemoveTimes = [];\r\nlet mousemoveTotalBehaviour = [];\r\nconst sessionId = crypto.randomUUID();\r\n\r\nlet startTime;\r\n\r\nfunction startTracking() {\r\n  console.log(\"Tracking started for session:\", sessionId);\r\n  startTime = Date.now();\r\n\r\n  document.addEventListener(\"mousemove\", handleMousemove);\r\n  document.addEventListener(\"click\", handleClick);\r\n  document.addEventListener(\"contextmenu\", handleRightClick);\r\n  document.addEventListener(\"auxclick\", handleMiddleClick);\r\n}\r\n\r\nfunction endTracking() {\r\n  console.log(\"Ending tracking for session:\", sessionId);\r\n  const payload = JSON.stringify({\r\n    session_id: sessionId,\r\n    total_behaviour: totalBehaviour,\r\n    mousemove_times: mousemoveTimes,\r\n    mousemove_total_behaviour: mousemoveTotalBehaviour\r\n  });\r\n\r\n  const blob = new Blob([payload], { type: \"application/json\" });\r\n  navigator.sendBeacon(\"http://localhost:5000/log-visit\", blob);\r\n\r\n  // Optional debug log\r\n  console.log(\"Sent tracking data:\", payload);\r\n}\r\n\r\nfunction handleMousemove(e) {\r\n  const now = Date.now();\r\n  totalBehaviour.push(`m(${e.clientX},${e.clientY})`);\r\n  mousemoveTotalBehaviour.push({ x: e.clientX, y: e.clientY });\r\n  mousemoveTimes.push(now - startTime);\r\n}\r\n\r\nfunction handleClick() {\r\n  mousemoveTimes.push(Date.now() - startTime);\r\n  totalBehaviour.push(\"c(l)\");\r\n}\r\nfunction handleRightClick() {\r\n  mousemoveTimes.push(Date.now() - startTime);\r\n  totalBehaviour.push(\"c(r)\");\r\n}\r\nfunction handleMiddleClick() {\r\n  mousemoveTimes.push(Date.now() - startTime);\r\n  totalBehaviour.push(\"c(m)\");\r\n}\r\n\r\nexport { startTracking, endTracking };\r\n"],"mappings":"AAAA,IAAIA,cAAc,GAAG,EAAE;AACvB,IAAIC,cAAc,GAAG,EAAE;AACvB,IAAIC,uBAAuB,GAAG,EAAE;AAChC,MAAMC,SAAS,GAAGC,MAAM,CAACC,UAAU,CAAC,CAAC;AAErC,IAAIC,SAAS;AAEb,SAASC,aAAaA,CAAA,EAAG;EACvBC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEN,SAAS,CAAC;EACvDG,SAAS,GAAGI,IAAI,CAACC,GAAG,CAAC,CAAC;EAEtBC,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEC,eAAe,CAAC;EACvDF,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEE,WAAW,CAAC;EAC/CH,QAAQ,CAACC,gBAAgB,CAAC,aAAa,EAAEG,gBAAgB,CAAC;EAC1DJ,QAAQ,CAACC,gBAAgB,CAAC,UAAU,EAAEI,iBAAiB,CAAC;AAC1D;AAEA,SAASC,WAAWA,CAAA,EAAG;EACrBV,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEN,SAAS,CAAC;EACtD,MAAMgB,OAAO,GAAGC,IAAI,CAACC,SAAS,CAAC;IAC7BC,UAAU,EAAEnB,SAAS;IACrBoB,eAAe,EAAEvB,cAAc;IAC/BwB,eAAe,EAAEvB,cAAc;IAC/BwB,yBAAyB,EAAEvB;EAC7B,CAAC,CAAC;EAEF,MAAMwB,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACR,OAAO,CAAC,EAAE;IAAES,IAAI,EAAE;EAAmB,CAAC,CAAC;EAC9DC,SAAS,CAACC,UAAU,CAAC,iCAAiC,EAAEJ,IAAI,CAAC;;EAE7D;EACAlB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEU,OAAO,CAAC;AAC7C;AAEA,SAASL,eAAeA,CAACiB,CAAC,EAAE;EAC1B,MAAMpB,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC,CAAC;EACtBX,cAAc,CAACgC,IAAI,CAAC,KAAKD,CAAC,CAACE,OAAO,IAAIF,CAAC,CAACG,OAAO,GAAG,CAAC;EACnDhC,uBAAuB,CAAC8B,IAAI,CAAC;IAAEG,CAAC,EAAEJ,CAAC,CAACE,OAAO;IAAEG,CAAC,EAAEL,CAAC,CAACG;EAAQ,CAAC,CAAC;EAC5DjC,cAAc,CAAC+B,IAAI,CAACrB,GAAG,GAAGL,SAAS,CAAC;AACtC;AAEA,SAASS,WAAWA,CAAA,EAAG;EACrBd,cAAc,CAAC+B,IAAI,CAACtB,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,SAAS,CAAC;EAC3CN,cAAc,CAACgC,IAAI,CAAC,MAAM,CAAC;AAC7B;AACA,SAAShB,gBAAgBA,CAAA,EAAG;EAC1Bf,cAAc,CAAC+B,IAAI,CAACtB,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,SAAS,CAAC;EAC3CN,cAAc,CAACgC,IAAI,CAAC,MAAM,CAAC;AAC7B;AACA,SAASf,iBAAiBA,CAAA,EAAG;EAC3BhB,cAAc,CAAC+B,IAAI,CAACtB,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,SAAS,CAAC;EAC3CN,cAAc,CAACgC,IAAI,CAAC,MAAM,CAAC;AAC7B;AAEA,SAASzB,aAAa,EAAEW,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}