{"ast":null,"code":"let totalBehaviour = [];\nlet mousemoveTimes = [];\nlet mousemoveTotalBehaviour = [];\nconst sessionId = crypto.randomUUID();\nlet startTime;\n\n// New: Track unique URLs hovered over by mouse\nconst hoveredUrls = new Set();\nfunction startTracking() {\n  console.log(\"Tracking started for session:\", sessionId);\n  startTime = Date.now();\n  document.addEventListener(\"mousemove\", handleMousemove);\n  document.addEventListener(\"click\", handleClick);\n  document.addEventListener(\"contextmenu\", handleRightClick);\n  document.addEventListener(\"auxclick\", handleMiddleClick);\n\n  // New: Track links hovered over by mouse\n  document.querySelectorAll(\"a\").forEach(link => {\n    link.addEventListener(\"mouseover\", () => {\n      const href = link.getAttribute(\"href\");\n      if (href) hoveredUrls.add(href);\n    });\n  });\n}\nfunction endTracking() {\n  console.log(\"Ending tracking for session:\", sessionId);\n  const payload = {\n    session_id: sessionId,\n    total_behaviour: totalBehaviour,\n    mousemove_times: mousemoveTimes,\n    mousemove_total_behaviour: mousemoveTotalBehaviour,\n    Mousemove_visited_urls: hoveredUrls.size // üëà New field added\n  };\n  fetch(\"http://localhost:5000/log-visit\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(payload),\n    keepalive: true\n  }).then(res => {\n    if (!res.ok) {\n      console.error(\"‚ùå Failed to send tracking data:\", res.statusText);\n    } else {\n      console.log(\"‚úÖ Sent tracking data\");\n    }\n  }).catch(err => {\n    console.error(\"‚ùå Error sending tracking data:\", err);\n  });\n}\nfunction handleMousemove(e) {\n  const now = Date.now();\n  totalBehaviour.push(`m(${e.clientX},${e.clientY})`);\n  mousemoveTotalBehaviour.push({\n    x: e.clientX,\n    y: e.clientY\n  });\n  mousemoveTimes.push(now - startTime);\n}\nfunction handleClick() {\n  mousemoveTimes.push(Date.now() - startTime);\n  totalBehaviour.push(\"c(l)\");\n}\nfunction handleRightClick() {\n  mousemoveTimes.push(Date.now() - startTime);\n  totalBehaviour.push(\"c(r)\");\n}\nfunction handleMiddleClick() {\n  mousemoveTimes.push(Date.now() - startTime);\n  totalBehaviour.push(\"c(m)\");\n}\nexport { startTracking, endTracking };","map":{"version":3,"names":["totalBehaviour","mousemoveTimes","mousemoveTotalBehaviour","sessionId","crypto","randomUUID","startTime","hoveredUrls","Set","startTracking","console","log","Date","now","document","addEventListener","handleMousemove","handleClick","handleRightClick","handleMiddleClick","querySelectorAll","forEach","link","href","getAttribute","add","endTracking","payload","session_id","total_behaviour","mousemove_times","mousemove_total_behaviour","Mousemove_visited_urls","size","fetch","method","headers","body","JSON","stringify","keepalive","then","res","ok","error","statusText","catch","err","e","push","clientX","clientY","x","y"],"sources":["C:/Users/hitha/Desktop/adfraud_kpmg/ad_fraud/src/clickceaseTracker.js"],"sourcesContent":["let totalBehaviour = [];\r\nlet mousemoveTimes = [];\r\nlet mousemoveTotalBehaviour = [];\r\nconst sessionId = crypto.randomUUID();\r\n\r\nlet startTime;\r\n\r\n// New: Track unique URLs hovered over by mouse\r\nconst hoveredUrls = new Set();\r\n\r\nfunction startTracking() {\r\n  console.log(\"Tracking started for session:\", sessionId);\r\n  startTime = Date.now();\r\n\r\n  document.addEventListener(\"mousemove\", handleMousemove);\r\n  document.addEventListener(\"click\", handleClick);\r\n  document.addEventListener(\"contextmenu\", handleRightClick);\r\n  document.addEventListener(\"auxclick\", handleMiddleClick);\r\n\r\n  // New: Track links hovered over by mouse\r\n  document.querySelectorAll(\"a\").forEach(link => {\r\n    link.addEventListener(\"mouseover\", () => {\r\n      const href = link.getAttribute(\"href\");\r\n      if (href) hoveredUrls.add(href);\r\n    });\r\n  });\r\n}\r\n\r\nfunction endTracking() {\r\n  console.log(\"Ending tracking for session:\", sessionId);\r\n\r\n  const payload = {\r\n    session_id: sessionId,\r\n    total_behaviour: totalBehaviour,\r\n    mousemove_times: mousemoveTimes,\r\n    mousemove_total_behaviour: mousemoveTotalBehaviour,\r\n    Mousemove_visited_urls: hoveredUrls.size // üëà New field added\r\n  };\r\n\r\n  fetch(\"http://localhost:5000/log-visit\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(payload),\r\n    keepalive: true\r\n  }).then(res => {\r\n    if (!res.ok) {\r\n      console.error(\"‚ùå Failed to send tracking data:\", res.statusText);\r\n    } else {\r\n      console.log(\"‚úÖ Sent tracking data\");\r\n    }\r\n  }).catch(err => {\r\n    console.error(\"‚ùå Error sending tracking data:\", err);\r\n  });\r\n}\r\n\r\nfunction handleMousemove(e) {\r\n  const now = Date.now();\r\n  totalBehaviour.push(`m(${e.clientX},${e.clientY})`);\r\n  mousemoveTotalBehaviour.push({ x: e.clientX, y: e.clientY });\r\n  mousemoveTimes.push(now - startTime);\r\n}\r\n\r\nfunction handleClick() {\r\n  mousemoveTimes.push(Date.now() - startTime);\r\n  totalBehaviour.push(\"c(l)\");\r\n}\r\nfunction handleRightClick() {\r\n  mousemoveTimes.push(Date.now() - startTime);\r\n  totalBehaviour.push(\"c(r)\");\r\n}\r\nfunction handleMiddleClick() {\r\n  mousemoveTimes.push(Date.now() - startTime);\r\n  totalBehaviour.push(\"c(m)\");\r\n}\r\n\r\nexport { startTracking, endTracking };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}